<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Support et d√©pannage intelligent</title>
    <!-- Font Awesome pour les ic√¥nes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <!-- Tailwind CSS pour le design responsive -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <!-- Marked.js pour le rendu Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked@4.0.0/marked.min.js"></script>
    <!-- DOMPurify pour la s√©curit√© -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.1/dist/purify.min.js"></script>
    <!-- Styles personnalis√©s -->
    <link rel="stylesheet" href="/static/css/style.css" />
    <!-- JavaScript -->
    <script src="/static/js/main.js"></script>
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar -->
      <div class="sidebar bg-white">
        <div class="p-4">
          <div class="flex items-center mb-6">
            <div class="bg-indigo-600 text-white p-2 rounded-xl shadow-md mr-3">
              <i class="fas fa-microchip text-xl"></i>
            </div>
            <div>
              <h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-blue-500">Assistant IA</h1>
              <p class="text-gray-600 text-xs">Propuls√© par RAG</p>
            </div>
          </div>

          <div class="flex items-center bg-indigo-50 py-2 px-3 rounded-lg mb-4">
            <i class="fas fa-clock text-indigo-500 mr-2"></i>
            <div>
              <span class="text-xs text-gray-500">Temps</span>
              <div class="text-indigo-700 text-sm font-medium" id="processing-time">-</div>
            </div>
          </div>

          <div class="flex space-x-2 mb-4">
            <button id="toggle-queries" class="flex-1 bg-white border border-indigo-200 text-indigo-600 rounded-lg py-2 px-3 hover:bg-indigo-50 transition-all shadow-sm flex items-center justify-center">
              <i class="fas fa-search text-sm mr-2"></i>
              <span class="text-sm">Requ√™tes</span>
            </button>
            <button id="toggle-documents" class="flex-1 bg-white border border-indigo-200 text-blue-600 rounded-lg py-2 px-3 hover:bg-blue-50 transition-all shadow-sm flex items-center justify-center">
              <i class="fas fa-file-alt text-sm mr-2"></i>
              <span class="text-sm">Documents</span>
            </button>
          </div>

          <!-- Conteneur pour les requ√™tes -->
          <div id="queries-container" class="queries-container mb-4 bg-indigo-50 rounded-xl p-3 border border-indigo-100">
            <h2 class="text-sm font-semibold text-indigo-700 mb-2 flex items-center"><i class="fas fa-database mr-2 text-indigo-500"></i>Requ√™tes g√©n√©r√©es:</h2>
            <ul id="queries-list" class="text-xs text-gray-700 ml-6 space-y-2 styled-list">
              <!-- Les requ√™tes seront ajout√©es ici dynamiquement -->
            </ul>
          </div>

          <!-- Conteneur pour les documents r√©cup√©r√©s -->
          <div id="documents-container" class="documents-container bg-blue-50 rounded-xl p-3 border border-blue-100">
            <h2 class="text-sm font-semibold text-blue-700 mb-2 flex items-center"><i class="fas fa-file-alt mr-2 text-blue-500"></i>Documents r√©cup√©r√©s:</h2>
            <div id="documents-list" class="text-xs text-gray-700 space-y-3">
              <!-- Les documents seront ajout√©s ici dynamiquement -->
            </div>
          </div>
        </div>

        <!-- Footer dans la sidebar -->
        <div class="mt-auto p-4 text-center text-gray-500 text-xs">
          <div class="py-2 flex justify-center space-x-2 items-center flex-wrap">
            <span>Assistant IA &copy; 2025</span>
            <span class="w-1 h-1 bg-gray-400 rounded-full"></span>
            <span>Propuls√© par LangChain</span>
          </div>
        </div>
      </div>

      <!-- Contenu principal - Chat -->
      <div class="main-content">
        <div class="chat-header">
          <div class="flex items-center">
            <button id="sidebar-toggle" class="toggle-sidebar mr-3"><i class="fas fa-chevron-left"></i></button>
            <div class="flex items-center">
              <div class="w-2 h-2 bg-green-400 rounded-full mr-2 pulse-animation"></div>
              <h2 class="font-medium">Discussion active</h2>
            </div>
          </div>
          <div class="text-xs opacity-75">Propuls√© par IA</div>
        </div>
        <!-- Zone de chat avec plus d'espace -->
        <div class="chat-container bg-gray-50">
          <!-- Messages -->
          <div id="chat-messages" class="chat-messages">
            <!-- Message de bienvenue -->
            <div class="message message-bot">
              <div class="message-avatar">
                <i class="fas fa-robot"></i>
              </div>
              <div class="message-content">
                <div class="markdown-body">
                  <h2>üëã Bienvenue sur notre plateforme d'assistance!</h2>
                  <p>Je suis votre assistant technique. Posez-moi vos questions sur les probl√®mes informatiques ou √©lectroniques que vous rencontrez.</p>
                  <p>Exemples de questions:</p>
                  <ul>
                    <li>Comment r√©parer un √©cran d'iPhone fissur√©?</li>
                    <li>Mon ordinateur est tr√®s lent, comment le nettoyer?</li>
                    <li>Comment r√©soudre un probl√®me de surchauffe sur mon portable?</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <!-- Zone de saisie -->
          <div class="chat-input-container">
            <div class="input-wrapper">
              <div class="flex items-center bg-gray-50 rounded-xl p-1 border border-gray-200 focus-within:border-indigo-300 focus-within:ring-2 focus-within:ring-indigo-100 transition-all w-full">
                <input id="user-input" type="text" class="flex-grow bg-transparent border-none focus:outline-none px-3 py-2 text-gray-700" placeholder="Posez votre question..." />
                <div class="flex-shrink-0 px-1">
                  <button id="send-button" class="bg-gradient-to-r from-indigo-600 to-blue-500 hover:from-indigo-700 hover:to-blue-600 text-white rounded-lg p-2 transition-all shadow-md flex items-center justify-center"><i class="fas fa-paper-plane"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
