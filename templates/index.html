<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Support et d√©pannage intelligent</title>
    <!-- Font Awesome pour les ic√¥nes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <!-- Tailwind CSS pour le design responsive -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <!-- Marked.js pour le rendu Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked@4.0.0/marked.min.js"></script>
    <!-- DOMPurify pour la s√©curit√© -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.1/dist/purify.min.js"></script>
    <!-- Styles personnalis√©s -->
    <link rel="stylesheet" href="/static/css/style.css" />
  </head>
  <body class="bg-gradient-to-br from-gray-50 to-gray-100 font-sans">
    <div class="container mx-auto px-4 py-6 max-w-6xl">
      <!-- En-t√™te -->
      <header class="bg-white shadow-lg rounded-2xl p-5 mb-6 border-t-4 border-indigo-600">
        <div class="flex justify-between items-center">
          <div class="flex items-center">
            <div class="bg-indigo-600 text-white p-3 rounded-xl shadow-md mr-4">
              <i class="fas fa-microchip text-2xl"></i>
            </div>
            <div>
              <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-blue-500">Assistant IA</h1>
              <p class="text-gray-600 text-sm">Propuls√© par RAG pour des r√©ponses enrichies et pr√©cises</p>
            </div>
          </div>
          <div class="flex items-center space-x-4">
            <div class="hidden md:flex items-center bg-indigo-50 py-2 px-4 rounded-lg">
              <i class="fas fa-clock text-indigo-500 mr-2"></i>
              <div>
                <span class="text-xs text-gray-500">Temps de traitement</span>
                <div class="text-indigo-700 font-medium" id="processing-time">-</div>
              </div>
            </div>
            <button id="toggle-queries" class="bg-white border border-indigo-200 text-indigo-600 rounded-full p-3 hover:bg-indigo-50 transition-all shadow-sm"><i class="fas fa-search text-sm"></i></button>
            <button id="toggle-documents" class="bg-white border border-indigo-200 text-blue-600 rounded-full p-3 hover:bg-blue-50 transition-all shadow-sm"><i class="fas fa-file-alt text-sm"></i></button>
          </div>
        </div>
        <!-- Conteneur pour les requ√™tes -->
        <div id="queries-container" class="queries-container mt-4 bg-indigo-50 rounded-xl p-4 border border-indigo-100">
          <h2 class="text-sm font-semibold text-indigo-700 mb-2 flex items-center"><i class="fas fa-database mr-2 text-indigo-500"></i>Requ√™tes g√©n√©r√©es:</h2>
          <ul id="queries-list" class="text-xs text-gray-700 ml-6 space-y-2 max-h-32 overflow-y-auto styled-list">
            <!-- Les requ√™tes seront ajout√©es ici dynamiquement -->
          </ul>
        </div>

        <!-- Conteneur pour les documents r√©cup√©r√©s -->
        <div id="documents-container" class="documents-container mt-4 bg-blue-50 rounded-xl p-4 border border-blue-100">
          <h2 class="text-sm font-semibold text-blue-700 mb-2 flex items-center"><i class="fas fa-file-alt mr-2 text-blue-500"></i>Documents r√©cup√©r√©s:</h2>
          <div id="documents-list" class="text-xs text-gray-700 space-y-4 max-h-64 overflow-y-auto">
            <!-- Les documents seront ajout√©s ici dynamiquement -->
          </div>
        </div>
      </header>

      <!-- Zone de chat -->
      <div class="bg-white shadow-lg rounded-2xl overflow-hidden border border-gray-100 chat-container">
        <div class="bg-gradient-to-r from-indigo-600 to-blue-500 px-6 py-4 text-white">
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <div class="w-2 h-2 bg-green-400 rounded-full mr-2 pulse-animation"></div>
              <h2 class="font-medium">Discussion active</h2>
            </div>
            <div class="text-xs opacity-75">Propuls√© par IA</div>
          </div>
        </div>

        <div id="chat-messages" class="chat-messages p-4 bg-gray-50">
          <!-- Message de bienvenue -->
          <div class="message message-bot">
            <div class="message-avatar">
              <i class="fas fa-robot"></i>
            </div>
            <div class="message-content">
              <div class="markdown-body">
                <h2>üëã Bienvenue sur notre plateforme d'assistance!</h2>
                <p>Je suis votre assistant technique. Posez-moi vos questions sur les probl√®mes informatiques ou √©lectroniques que vous rencontrez.</p>
                <p>Exemples de questions:</p>
                <ul>
                  <li>Comment r√©parer un √©cran d'iPhone fissur√©?</li>
                  <li>Mon ordinateur est tr√®s lent, comment le nettoyer?</li>
                  <li>Comment r√©soudre un probl√®me de surchauffe sur mon portable?</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Zone de saisie -->
        <div class="p-4 border-t border-gray-100">
          <div class="flex items-center bg-gray-50 rounded-xl p-1 border border-gray-200 focus-within:border-indigo-300 focus-within:ring-2 focus-within:ring-indigo-100 transition-all">
            <input id="user-input" type="text" class="flex-grow bg-transparent border-none focus:outline-none px-4 py-3 text-gray-700" placeholder="Posez votre question technique ici..." />
            <div class="flex items-center space-x-2 px-2">
              <button id="send-button" class="bg-gradient-to-r from-indigo-600 to-blue-500 hover:from-indigo-700 hover:to-blue-600 text-white rounded-lg p-3 transition-all shadow-md"><i class="fas fa-paper-plane"></i></button>
            </div>
          </div>
        </div>
      </div>

      <!-- Pied de page -->
      <footer class="mt-6 text-center text-gray-500 text-sm">
        <div class="py-3 flex justify-center space-x-4 items-center">
          <span>Assistant IA propuls√© par RAG &copy; 2025</span>
          <span class="w-1 h-1 bg-gray-400 rounded-full"></span>
          <span>Bas√© sur une g√©n√©ration augment√©e utilisant GPT-4.1, orchestr√©e par l‚Äôarchitecture LangChain.</span>
        </div>
      </footer>
    </div>

    <!-- Script principal -->
    <script src="/static/js/main.js"></script>
  </body>
</html>
